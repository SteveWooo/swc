<!DOCTYPE html>
<html>
<head>
	<title>content</title>
	<script type="text/javascript" src="./lib/jquery.min.js"></script>
	<script type="text/javascript" src="./lib/vue.min.js"></script>
</head>
<body>

	<div id="app">
		<div id="contents">
			<div v-for="trade in content.trades">
				{{trade.hash_id}}:
				</br>
				<strong>{{trade.data}}</strong>
				</hr>
			</div>
		</div>
	</div>

	<script type="text/javascript">
		function getQueryString(name) {
		    var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
		    var r = window.location.search.substr(1).match(reg);
		    if (r != null) return unescape(r[2]); 
		    return null;
	    }
		var config = {
			base_url : "http://127.0.0.1",
			port : "7002",
		}
		var app = new Vue({
			el : '#app',
			data : {
				content : {}
			},
			methods : {
				init : function(){
					var that = this;
					$.ajax({
						url : config.base_url + ":" + config.port + "/block/get_trades?block_number=" + getQueryString('block_number'),
						method : "get",
						success : function(res){
							if(res.code == 2000){
								that.content = res.data;
							}
						}
					})
				}
			}
		})

		app.init();
	</script>
</body>
</html>